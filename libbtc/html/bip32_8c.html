<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>libbtc: /Users/jonasschnelli/Documents/bitcoin/libbtc/src/bip32.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libbtc
   </div>
   <div id="projectbrief">bitcoinclibrary</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4356c9dd507f78627e142f7551987298.html">libbtc</a></li><li class="navelem"><a class="el" href="dir_8f7b7a4187e1479c1533fe8a28ab53cb.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bip32.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="bip32_8h_source.html">btc/bip32.h</a>&quot;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &quot;<a class="el" href="base58_8h_source.html">btc/base58.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ecc_8h_source.html">btc/ecc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ripemd160_8h_source.html">ripemd160.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sha2_8h_source.html">sha2.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="utils_8h_source.html">utils.h</a>&quot;</code><br />
</div>
<p><a href="bip32_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1a8f046c40128aee05d548ca8940127c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bip32_8c.html#a1a8f046c40128aee05d548ca8940127c">write_be</a> (uint8_t *data, uint32_t x)</td></tr>
<tr class="separator:a1a8f046c40128aee05d548ca8940127c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af306a6d77acfe9d09ea2ba56556453a8"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bip32_8c.html#af306a6d77acfe9d09ea2ba56556453a8">read_be</a> (const uint8_t *data)</td></tr>
<tr class="separator:af306a6d77acfe9d09ea2ba56556453a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a458f33bf23cd299a823398328b0b477a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="btc_8h.html#a2426de7ad9dd5354f5e22b4c8d77e792">btc_bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bip32_8c.html#a458f33bf23cd299a823398328b0b477a">btc_hdnode_from_seed</a> (const uint8_t *seed, int seed_len, <a class="el" href="structbtc__hdnode.html">btc_hdnode</a> *out)</td></tr>
<tr class="separator:a458f33bf23cd299a823398328b0b477a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47c1559e5c091669a576a13f0dee5abe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="btc_8h.html#a2426de7ad9dd5354f5e22b4c8d77e792">btc_bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bip32_8c.html#a47c1559e5c091669a576a13f0dee5abe">btc_hdnode_public_ckd</a> (<a class="el" href="structbtc__hdnode.html">btc_hdnode</a> *inout, uint32_t i)</td></tr>
<tr class="separator:a47c1559e5c091669a576a13f0dee5abe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89b235fc5d696cb69448855ad5248c05"><td class="memItemLeft" align="right" valign="top"><a class="el" href="btc_8h.html#a2426de7ad9dd5354f5e22b4c8d77e792">btc_bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bip32_8c.html#a89b235fc5d696cb69448855ad5248c05">btc_hdnode_private_ckd</a> (<a class="el" href="structbtc__hdnode.html">btc_hdnode</a> *inout, uint32_t i)</td></tr>
<tr class="separator:a89b235fc5d696cb69448855ad5248c05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a150435a02e986ee191c4df5a583fe859"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bip32_8c.html#a150435a02e986ee191c4df5a583fe859">btc_hdnode_fill_public_key</a> (<a class="el" href="structbtc__hdnode.html">btc_hdnode</a> *node)</td></tr>
<tr class="separator:a150435a02e986ee191c4df5a583fe859"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92185734b9aeda9264bf06500e3868dd"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bip32_8c.html#a92185734b9aeda9264bf06500e3868dd">btc_hdnode_serialize</a> (const <a class="el" href="structbtc__hdnode.html">btc_hdnode</a> *node, uint32_t version, char use_public, char *str, int strsize)</td></tr>
<tr class="separator:a92185734b9aeda9264bf06500e3868dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff70cfe9895d4dbf098f15fe0c07caf6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bip32_8c.html#aff70cfe9895d4dbf098f15fe0c07caf6">btc_hdnode_serialize_public</a> (const <a class="el" href="structbtc__hdnode.html">btc_hdnode</a> *node, const <a class="el" href="structbtc__chain.html">btc_chain</a> *chain, char *str, int strsize)</td></tr>
<tr class="separator:aff70cfe9895d4dbf098f15fe0c07caf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7cfb93b3d10be6d26427abb8602716b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bip32_8c.html#ad7cfb93b3d10be6d26427abb8602716b">btc_hdnode_serialize_private</a> (const <a class="el" href="structbtc__hdnode.html">btc_hdnode</a> *node, const <a class="el" href="structbtc__chain.html">btc_chain</a> *chain, char *str, int strsize)</td></tr>
<tr class="separator:ad7cfb93b3d10be6d26427abb8602716b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7464547a52f47778d0d2bee7d6f58ee4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="btc_8h.html#a2426de7ad9dd5354f5e22b4c8d77e792">btc_bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bip32_8c.html#a7464547a52f47778d0d2bee7d6f58ee4">btc_hdnode_deserialize</a> (const char *str, const <a class="el" href="structbtc__chain.html">btc_chain</a> *chain, <a class="el" href="structbtc__hdnode.html">btc_hdnode</a> *node)</td></tr>
<tr class="separator:a7464547a52f47778d0d2bee7d6f58ee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fe6571e4287c50df0f05510f894107e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="btc_8h.html#a2426de7ad9dd5354f5e22b4c8d77e792">btc_bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bip32_8c.html#a2fe6571e4287c50df0f05510f894107e">btc_hd_generate_key</a> (<a class="el" href="structbtc__hdnode.html">btc_hdnode</a> *node, const char *keypath, const uint8_t *privkeymaster, const uint8_t *chaincode)</td></tr>
<tr class="memdesc:a2fe6571e4287c50df0f05510f894107e"><td class="mdescLeft">&#160;</td><td class="mdescRight">derive <a class="el" href="structbtc__hdnode.html">btc_hdnode</a> including private key from master private key  <a href="#a2fe6571e4287c50df0f05510f894107e">More...</a><br /></td></tr>
<tr class="separator:a2fe6571e4287c50df0f05510f894107e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a2fe6571e4287c50df0f05510f894107e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="btc_8h.html#a2426de7ad9dd5354f5e22b4c8d77e792">btc_bool</a> btc_hd_generate_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtc__hdnode.html">btc_hdnode</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>keypath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>privkeymaster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>chaincode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>derive <a class="el" href="structbtc__hdnode.html">btc_hdnode</a> including private key from master private key </p>

<p>Definition at line <a class="el" href="bip32_8c_source.html#l00245">245</a> of file <a class="el" href="bip32_8c_source.html">bip32.c</a>.</p>

<p>References <a class="el" href="bip32_8h_source.html#l00039">BTC_BIP32_CHAINCODE_SIZE</a>, <a class="el" href="btc_8h_source.html#l00070">BTC_ECKEY_PKEY_LENGTH</a>, <a class="el" href="bip32_8c_source.html#l00178">btc_hdnode_fill_public_key()</a>, <a class="el" href="bip32_8c_source.html#l00124">btc_hdnode_private_ckd()</a>, <a class="el" href="bip32_8h_source.html#l00052">btc_hdnode_private_ckd_prime</a>, <a class="el" href="bip32_8h_source.html#l00046">btc_hdnode::chain_code</a>, <a class="el" href="bip32_8h_source.html#l00045">btc_hdnode::child_num</a>, <a class="el" href="bip32_8h_source.html#l00043">btc_hdnode::depth</a>, <a class="el" href="bip32_8h_source.html#l00044">btc_hdnode::fingerprint</a>, <a class="el" href="bip32_8h_source.html#l00047">btc_hdnode::private_key</a>, and <a class="el" href="utils_8h_source.html#l00040">strlens</a>.</p>
<div class="fragment"><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;{</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">char</span> delim[] = <span class="stringliteral">&quot;/&quot;</span>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">char</span> prime[] = <span class="stringliteral">&quot;phH\&#39;&quot;</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">char</span> digits[] = <span class="stringliteral">&quot;0123456789&quot;</span>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    uint64_t idx = 0;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    assert(<a class="code" href="utils_8h.html#ada6890d0e0fded0b9adb33d77cf6c9f4">strlens</a>(keypath) &lt; 1024);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordtype">char</span>* pch, *kp = malloc(<a class="code" href="utils_8h.html#ada6890d0e0fded0b9adb33d77cf6c9f4">strlens</a>(keypath) + 1);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">if</span> (!kp) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="utils_8h.html#ada6890d0e0fded0b9adb33d77cf6c9f4">strlens</a>(keypath) &lt; <a class="code" href="utils_8h.html#ada6890d0e0fded0b9adb33d77cf6c9f4">strlens</a>(<span class="stringliteral">&quot;m/&quot;</span>)) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    memset(kp, 0, <a class="code" href="utils_8h.html#ada6890d0e0fded0b9adb33d77cf6c9f4">strlens</a>(keypath) + 1);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    memcpy(kp, keypath, <a class="code" href="utils_8h.html#ada6890d0e0fded0b9adb33d77cf6c9f4">strlens</a>(keypath));</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">if</span> (kp[0] != <span class="charliteral">&#39;m&#39;</span> || kp[1] != <span class="charliteral">&#39;/&#39;</span>) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    node-&gt;<a class="code" href="structbtc__hdnode.html#a5cade55feeebcc6ede6288f0e10beba7">depth</a> = 0;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    node-&gt;<a class="code" href="structbtc__hdnode.html#a744fa5df77b787fefff535ac62392072">child_num</a> = 0;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    node-&gt;<a class="code" href="structbtc__hdnode.html#acf47f9deb118f045df68c4db0af0a4a1">fingerprint</a> = 0;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    memcpy(node-&gt;<a class="code" href="structbtc__hdnode.html#aadda46b987819dd702910750372bba6a">chain_code</a>, chaincode, <a class="code" href="bip32_8h.html#a26028fc7585b9caf944d2e0524c5453e">BTC_BIP32_CHAINCODE_SIZE</a>);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    memcpy(node-&gt;<a class="code" href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">private_key</a>, privkeymaster, <a class="code" href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <a class="code" href="bip32_8c.html#a150435a02e986ee191c4df5a583fe859">btc_hdnode_fill_public_key</a>(node);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    pch = strtok(kp + 2, delim);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">while</span> (pch != NULL) {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordtype">size_t</span> i = 0;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordtype">int</span> prm = 0;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordflow">for</span> (; i &lt; <a class="code" href="utils_8h.html#ada6890d0e0fded0b9adb33d77cf6c9f4">strlens</a>(pch); i++) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="keywordflow">if</span> (strchr(prime, pch[i])) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                <span class="keywordflow">if</span> (i != <a class="code" href="utils_8h.html#ada6890d0e0fded0b9adb33d77cf6c9f4">strlens</a>(pch) - 1) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                    <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                prm = 1;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strchr(digits, pch[i])) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        idx = strtoull(pch, NULL, 10);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">if</span> (idx &gt; UINT32_MAX) {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">if</span> (prm) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="bip32_8h.html#a186c45cfc6b3f700b06997cc10c7f317">btc_hdnode_private_ckd_prime</a>(node, idx) != <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="bip32_8c.html#a89b235fc5d696cb69448855ad5248c05">btc_hdnode_private_ckd</a>(node, idx) != <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                <span class="keywordflow">goto</span> err;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            }</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        pch = strtok(NULL, delim);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    free(kp);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;err:</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    free(kp);</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;}</div>
<div class="ttc" id="bip32_8c_html_a89b235fc5d696cb69448855ad5248c05"><div class="ttname"><a href="bip32_8c.html#a89b235fc5d696cb69448855ad5248c05">btc_hdnode_private_ckd</a></div><div class="ttdeci">btc_bool btc_hdnode_private_ckd(btc_hdnode *inout, uint32_t i)</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8c_source.html#l00124">bip32.c:124</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_a8e2ff2681ed2cd99572d42cc5d3f5bd4"><div class="ttname"><a href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">btc_hdnode::private_key</a></div><div class="ttdeci">uint8_t private_key[BTC_ECKEY_PKEY_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00047">bip32.h:47</a></div></div>
<div class="ttc" id="utils_8h_html_ada6890d0e0fded0b9adb33d77cf6c9f4"><div class="ttname"><a href="utils_8h.html#ada6890d0e0fded0b9adb33d77cf6c9f4">strlens</a></div><div class="ttdeci">#define strlens(s)</div><div class="ttdef"><b>Definition:</b> <a href="utils_8h_source.html#l00040">utils.h:40</a></div></div>
<div class="ttc" id="btc_8h_html_a0d2210035575b1da54185296094ae5a1"><div class="ttname"><a href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a></div><div class="ttdeci">#define BTC_ECKEY_PKEY_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="btc_8h_source.html#l00070">btc.h:70</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_a744fa5df77b787fefff535ac62392072"><div class="ttname"><a href="structbtc__hdnode.html#a744fa5df77b787fefff535ac62392072">btc_hdnode::child_num</a></div><div class="ttdeci">uint32_t child_num</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00045">bip32.h:45</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_a5cade55feeebcc6ede6288f0e10beba7"><div class="ttname"><a href="structbtc__hdnode.html#a5cade55feeebcc6ede6288f0e10beba7">btc_hdnode::depth</a></div><div class="ttdeci">uint32_t depth</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00043">bip32.h:43</a></div></div>
<div class="ttc" id="bip32_8c_html_a150435a02e986ee191c4df5a583fe859"><div class="ttname"><a href="bip32_8c.html#a150435a02e986ee191c4df5a583fe859">btc_hdnode_fill_public_key</a></div><div class="ttdeci">void btc_hdnode_fill_public_key(btc_hdnode *node)</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8c_source.html#l00178">bip32.c:178</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_acf47f9deb118f045df68c4db0af0a4a1"><div class="ttname"><a href="structbtc__hdnode.html#acf47f9deb118f045df68c4db0af0a4a1">btc_hdnode::fingerprint</a></div><div class="ttdeci">uint32_t fingerprint</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00044">bip32.h:44</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_aadda46b987819dd702910750372bba6a"><div class="ttname"><a href="structbtc__hdnode.html#aadda46b987819dd702910750372bba6a">btc_hdnode::chain_code</a></div><div class="ttdeci">uint8_t chain_code[BTC_BIP32_CHAINCODE_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00046">bip32.h:46</a></div></div>
<div class="ttc" id="bip32_8h_html_a26028fc7585b9caf944d2e0524c5453e"><div class="ttname"><a href="bip32_8h.html#a26028fc7585b9caf944d2e0524c5453e">BTC_BIP32_CHAINCODE_SIZE</a></div><div class="ttdeci">#define BTC_BIP32_CHAINCODE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00039">bip32.h:39</a></div></div>
<div class="ttc" id="bip32_8h_html_a186c45cfc6b3f700b06997cc10c7f317"><div class="ttname"><a href="bip32_8h.html#a186c45cfc6b3f700b06997cc10c7f317">btc_hdnode_private_ckd_prime</a></div><div class="ttdeci">#define btc_hdnode_private_ckd_prime(X, I)</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00052">bip32.h:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7464547a52f47778d0d2bee7d6f58ee4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="btc_8h.html#a2426de7ad9dd5354f5e22b4c8d77e792">btc_bool</a> btc_hdnode_deserialize </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structbtc__chain.html">btc_chain</a> *&#160;</td>
          <td class="paramname"><em>chain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtc__hdnode.html">btc_hdnode</a> *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="bip32_8c_source.html#l00216">216</a> of file <a class="el" href="bip32_8c_source.html">bip32.c</a>.</p>

<p>References <a class="el" href="chain_8h_source.html#l00045">btc_chain::b58prefix_bip32_privkey</a>, <a class="el" href="chain_8h_source.html#l00046">btc_chain::b58prefix_bip32_pubkey</a>, <a class="el" href="base58_8c_source.html#l00219">btc_base58_decode_check()</a>, <a class="el" href="bip32_8h_source.html#l00039">BTC_BIP32_CHAINCODE_SIZE</a>, <a class="el" href="btc_8h_source.html#l00068">BTC_ECKEY_COMPRESSED_LENGTH</a>, <a class="el" href="btc_8h_source.html#l00070">BTC_ECKEY_PKEY_LENGTH</a>, <a class="el" href="bip32_8c_source.html#l00178">btc_hdnode_fill_public_key()</a>, <a class="el" href="bip32_8h_source.html#l00046">btc_hdnode::chain_code</a>, <a class="el" href="bip32_8h_source.html#l00045">btc_hdnode::child_num</a>, <a class="el" href="bip32_8h_source.html#l00043">btc_hdnode::depth</a>, <a class="el" href="bip32_8h_source.html#l00044">btc_hdnode::fingerprint</a>, <a class="el" href="bip32_8h_source.html#l00047">btc_hdnode::private_key</a>, <a class="el" href="bip32_8h_source.html#l00048">btc_hdnode::public_key</a>, and <a class="el" href="bip32_8c_source.html#l00052">read_be()</a>.</p>
<div class="fragment"><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;{</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    uint8_t node_data[strlen(str)];</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    memset(node, 0, <span class="keyword">sizeof</span>(<a class="code" href="structbtc__hdnode.html">btc_hdnode</a>));</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordtype">size_t</span> outlen = 0;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    outlen = <a class="code" href="base58_8c.html#aebc977b5cea1729d5fe9ad0712ae3c33">btc_base58_decode_check</a>(str, node_data, <span class="keyword">sizeof</span>(node_data));</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">if</span> (!outlen) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    uint32_t version = <a class="code" href="bip32_8c.html#af306a6d77acfe9d09ea2ba56556453a8">read_be</a>(node_data);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">if</span> (version == chain-&gt;<a class="code" href="structbtc__chain.html#a5c6ba4970322222cba6149733c68d277">b58prefix_bip32_pubkey</a>) { <span class="comment">// public node</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        memcpy(node-&gt;<a class="code" href="structbtc__hdnode.html#a014267a07b99aead6a875b600ad23e0b">public_key</a>, node_data + 45, <a class="code" href="btc_8h.html#ae218f7ef06647872113a6ab90c5234e5">BTC_ECKEY_COMPRESSED_LENGTH</a>);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (version == chain-&gt;<a class="code" href="structbtc__chain.html#a5dafe0804980e12a358fca3ca0c72c1f">b58prefix_bip32_privkey</a>) { <span class="comment">// private node</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">if</span> (node_data[45]) {                                <span class="comment">// invalid data</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        memcpy(node-&gt;<a class="code" href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">private_key</a>, node_data + 46, <a class="code" href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a>);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <a class="code" href="bip32_8c.html#a150435a02e986ee191c4df5a583fe859">btc_hdnode_fill_public_key</a>(node);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// invalid version</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    node-&gt;<a class="code" href="structbtc__hdnode.html#a5cade55feeebcc6ede6288f0e10beba7">depth</a> = node_data[4];</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    node-&gt;<a class="code" href="structbtc__hdnode.html#acf47f9deb118f045df68c4db0af0a4a1">fingerprint</a> = <a class="code" href="bip32_8c.html#af306a6d77acfe9d09ea2ba56556453a8">read_be</a>(node_data + 5);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    node-&gt;<a class="code" href="structbtc__hdnode.html#a744fa5df77b787fefff535ac62392072">child_num</a> = <a class="code" href="bip32_8c.html#af306a6d77acfe9d09ea2ba56556453a8">read_be</a>(node_data + 9);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    memcpy(node-&gt;<a class="code" href="structbtc__hdnode.html#aadda46b987819dd702910750372bba6a">chain_code</a>, node_data + 13, <a class="code" href="bip32_8h.html#a26028fc7585b9caf944d2e0524c5453e">BTC_BIP32_CHAINCODE_SIZE</a>);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div>
<div class="ttc" id="structbtc__hdnode_html_a8e2ff2681ed2cd99572d42cc5d3f5bd4"><div class="ttname"><a href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">btc_hdnode::private_key</a></div><div class="ttdeci">uint8_t private_key[BTC_ECKEY_PKEY_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00047">bip32.h:47</a></div></div>
<div class="ttc" id="btc_8h_html_a0d2210035575b1da54185296094ae5a1"><div class="ttname"><a href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a></div><div class="ttdeci">#define BTC_ECKEY_PKEY_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="btc_8h_source.html#l00070">btc.h:70</a></div></div>
<div class="ttc" id="structbtc__chain_html_a5c6ba4970322222cba6149733c68d277"><div class="ttname"><a href="structbtc__chain.html#a5c6ba4970322222cba6149733c68d277">btc_chain::b58prefix_bip32_pubkey</a></div><div class="ttdeci">uint32_t b58prefix_bip32_pubkey</div><div class="ttdef"><b>Definition:</b> <a href="chain_8h_source.html#l00046">chain.h:46</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_a744fa5df77b787fefff535ac62392072"><div class="ttname"><a href="structbtc__hdnode.html#a744fa5df77b787fefff535ac62392072">btc_hdnode::child_num</a></div><div class="ttdeci">uint32_t child_num</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00045">bip32.h:45</a></div></div>
<div class="ttc" id="btc_8h_html_ae218f7ef06647872113a6ab90c5234e5"><div class="ttname"><a href="btc_8h.html#ae218f7ef06647872113a6ab90c5234e5">BTC_ECKEY_COMPRESSED_LENGTH</a></div><div class="ttdeci">#define BTC_ECKEY_COMPRESSED_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="btc_8h_source.html#l00068">btc.h:68</a></div></div>
<div class="ttc" id="structbtc__chain_html_a5dafe0804980e12a358fca3ca0c72c1f"><div class="ttname"><a href="structbtc__chain.html#a5dafe0804980e12a358fca3ca0c72c1f">btc_chain::b58prefix_bip32_privkey</a></div><div class="ttdeci">uint32_t b58prefix_bip32_privkey</div><div class="ttdoc">private key </div><div class="ttdef"><b>Definition:</b> <a href="chain_8h_source.html#l00045">chain.h:45</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_a5cade55feeebcc6ede6288f0e10beba7"><div class="ttname"><a href="structbtc__hdnode.html#a5cade55feeebcc6ede6288f0e10beba7">btc_hdnode::depth</a></div><div class="ttdeci">uint32_t depth</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00043">bip32.h:43</a></div></div>
<div class="ttc" id="bip32_8c_html_a150435a02e986ee191c4df5a583fe859"><div class="ttname"><a href="bip32_8c.html#a150435a02e986ee191c4df5a583fe859">btc_hdnode_fill_public_key</a></div><div class="ttdeci">void btc_hdnode_fill_public_key(btc_hdnode *node)</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8c_source.html#l00178">bip32.c:178</a></div></div>
<div class="ttc" id="base58_8c_html_aebc977b5cea1729d5fe9ad0712ae3c33"><div class="ttname"><a href="base58_8c.html#aebc977b5cea1729d5fe9ad0712ae3c33">btc_base58_decode_check</a></div><div class="ttdeci">int btc_base58_decode_check(const char *str, uint8_t *data, size_t datalen)</div><div class="ttdef"><b>Definition:</b> <a href="base58_8c_source.html#l00219">base58.c:219</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_acf47f9deb118f045df68c4db0af0a4a1"><div class="ttname"><a href="structbtc__hdnode.html#acf47f9deb118f045df68c4db0af0a4a1">btc_hdnode::fingerprint</a></div><div class="ttdeci">uint32_t fingerprint</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00044">bip32.h:44</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_aadda46b987819dd702910750372bba6a"><div class="ttname"><a href="structbtc__hdnode.html#aadda46b987819dd702910750372bba6a">btc_hdnode::chain_code</a></div><div class="ttdeci">uint8_t chain_code[BTC_BIP32_CHAINCODE_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00046">bip32.h:46</a></div></div>
<div class="ttc" id="bip32_8c_html_af306a6d77acfe9d09ea2ba56556453a8"><div class="ttname"><a href="bip32_8c.html#af306a6d77acfe9d09ea2ba56556453a8">read_be</a></div><div class="ttdeci">static uint32_t read_be(const uint8_t *data)</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8c_source.html#l00052">bip32.c:52</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_a014267a07b99aead6a875b600ad23e0b"><div class="ttname"><a href="structbtc__hdnode.html#a014267a07b99aead6a875b600ad23e0b">btc_hdnode::public_key</a></div><div class="ttdeci">uint8_t public_key[BTC_ECKEY_COMPRESSED_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00048">bip32.h:48</a></div></div>
<div class="ttc" id="bip32_8h_html_a26028fc7585b9caf944d2e0524c5453e"><div class="ttname"><a href="bip32_8h.html#a26028fc7585b9caf944d2e0524c5453e">BTC_BIP32_CHAINCODE_SIZE</a></div><div class="ttdeci">#define BTC_BIP32_CHAINCODE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00039">bip32.h:39</a></div></div>
<div class="ttc" id="structbtc__hdnode_html"><div class="ttname"><a href="structbtc__hdnode.html">btc_hdnode</a></div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00041">bip32.h:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a150435a02e986ee191c4df5a583fe859"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btc_hdnode_fill_public_key </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtc__hdnode.html">btc_hdnode</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="bip32_8c_source.html#l00178">178</a> of file <a class="el" href="bip32_8c_source.html">bip32.c</a>.</p>

<p>References <a class="el" href="btc_8h_source.html#l00068">BTC_ECKEY_COMPRESSED_LENGTH</a>, <a class="el" href="ecc__libsecp256k1_8c_source.html#l00036">ecc_get_pubkey()</a>, <a class="el" href="bip32_8h_source.html#l00047">btc_hdnode::private_key</a>, and <a class="el" href="bip32_8h_source.html#l00048">btc_hdnode::public_key</a>.</p>

<p>Referenced by <a class="el" href="bip32_8c_source.html#l00245">btc_hd_generate_key()</a>, <a class="el" href="bip32_8c_source.html#l00216">btc_hdnode_deserialize()</a>, <a class="el" href="bip32_8c_source.html#l00061">btc_hdnode_from_seed()</a>, and <a class="el" href="bip32_8c_source.html#l00124">btc_hdnode_private_ckd()</a>.</p>
<div class="fragment"><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;{</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordtype">size_t</span> outsize = <a class="code" href="btc_8h.html#ae218f7ef06647872113a6ab90c5234e5">BTC_ECKEY_COMPRESSED_LENGTH</a>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="ecc__libsecp256k1_8c.html#a1cc8ad1d6649adcbeb03afee7917d834">ecc_get_pubkey</a>(node-&gt;<a class="code" href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">private_key</a>, node-&gt;<a class="code" href="structbtc__hdnode.html#a014267a07b99aead6a875b600ad23e0b">public_key</a>, &amp;outsize, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;}</div>
<div class="ttc" id="structbtc__hdnode_html_a8e2ff2681ed2cd99572d42cc5d3f5bd4"><div class="ttname"><a href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">btc_hdnode::private_key</a></div><div class="ttdeci">uint8_t private_key[BTC_ECKEY_PKEY_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00047">bip32.h:47</a></div></div>
<div class="ttc" id="ecc__libsecp256k1_8c_html_a1cc8ad1d6649adcbeb03afee7917d834"><div class="ttname"><a href="ecc__libsecp256k1_8c.html#a1cc8ad1d6649adcbeb03afee7917d834">ecc_get_pubkey</a></div><div class="ttdeci">void ecc_get_pubkey(const uint8_t *private_key, uint8_t *public_key, size_t *in_outlen, btc_bool compressed)</div><div class="ttdoc">get public key from given private key </div><div class="ttdef"><b>Definition:</b> <a href="ecc__libsecp256k1_8c_source.html#l00036">ecc_libsecp256k1.c:36</a></div></div>
<div class="ttc" id="btc_8h_html_ae218f7ef06647872113a6ab90c5234e5"><div class="ttname"><a href="btc_8h.html#ae218f7ef06647872113a6ab90c5234e5">BTC_ECKEY_COMPRESSED_LENGTH</a></div><div class="ttdeci">#define BTC_ECKEY_COMPRESSED_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="btc_8h_source.html#l00068">btc.h:68</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_a014267a07b99aead6a875b600ad23e0b"><div class="ttname"><a href="structbtc__hdnode.html#a014267a07b99aead6a875b600ad23e0b">btc_hdnode::public_key</a></div><div class="ttdeci">uint8_t public_key[BTC_ECKEY_COMPRESSED_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00048">bip32.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a458f33bf23cd299a823398328b0b477a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="btc_8h.html#a2426de7ad9dd5354f5e22b4c8d77e792">btc_bool</a> btc_hdnode_from_seed </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>seed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>seed_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbtc__hdnode.html">btc_hdnode</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="bip32_8c_source.html#l00061">61</a> of file <a class="el" href="bip32_8c_source.html">bip32.c</a>.</p>

<p>References <a class="el" href="bip32_8h_source.html#l00039">BTC_BIP32_CHAINCODE_SIZE</a>, <a class="el" href="btc_8h_source.html#l00070">BTC_ECKEY_PKEY_LENGTH</a>, <a class="el" href="bip32_8c_source.html#l00178">btc_hdnode_fill_public_key()</a>, <a class="el" href="bip32_8h_source.html#l00046">btc_hdnode::chain_code</a>, <a class="el" href="bip32_8h_source.html#l00045">btc_hdnode::child_num</a>, <a class="el" href="bip32_8h_source.html#l00043">btc_hdnode::depth</a>, <a class="el" href="ecc__libsecp256k1_8c_source.html#l00079">ecc_verify_privatekey()</a>, <a class="el" href="bip32_8h_source.html#l00044">btc_hdnode::fingerprint</a>, <a class="el" href="sha2_8c_source.html#l00996">hmac_sha512()</a>, and <a class="el" href="bip32_8h_source.html#l00047">btc_hdnode::private_key</a>.</p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;{</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    uint8_t I[<a class="code" href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a> + <a class="code" href="bip32_8h.html#a26028fc7585b9caf944d2e0524c5453e">BTC_BIP32_CHAINCODE_SIZE</a>];</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    memset(out, 0, <span class="keyword">sizeof</span>(<a class="code" href="structbtc__hdnode.html">btc_hdnode</a>));</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    out-&gt;<a class="code" href="structbtc__hdnode.html#a5cade55feeebcc6ede6288f0e10beba7">depth</a> = 0;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    out-&gt;<a class="code" href="structbtc__hdnode.html#acf47f9deb118f045df68c4db0af0a4a1">fingerprint</a> = 0x00000000;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    out-&gt;<a class="code" href="structbtc__hdnode.html#a744fa5df77b787fefff535ac62392072">child_num</a> = 0;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="sha2_8c.html#adebd9da21dc5678cfe9ed3c1607ed40f">hmac_sha512</a>((<span class="keyword">const</span> uint8_t*)<span class="stringliteral">&quot;Bitcoin seed&quot;</span>, 12, seed, seed_len, I);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    memcpy(out-&gt;<a class="code" href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">private_key</a>, I, <a class="code" href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a>);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ecc__libsecp256k1_8c.html#a12329b17ed27248df0978565f92dde9d">ecc_verify_privatekey</a>(out-&gt;<a class="code" href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">private_key</a>)) {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        memset(I, 0, <span class="keyword">sizeof</span>(I));</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    memcpy(out-&gt;<a class="code" href="structbtc__hdnode.html#aadda46b987819dd702910750372bba6a">chain_code</a>, I + <a class="code" href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a>, <a class="code" href="bip32_8h.html#a26028fc7585b9caf944d2e0524c5453e">BTC_BIP32_CHAINCODE_SIZE</a>);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="bip32_8c.html#a150435a02e986ee191c4df5a583fe859">btc_hdnode_fill_public_key</a>(out);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    memset(I, 0, <span class="keyword">sizeof</span>(I));</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div>
<div class="ttc" id="structbtc__hdnode_html_a8e2ff2681ed2cd99572d42cc5d3f5bd4"><div class="ttname"><a href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">btc_hdnode::private_key</a></div><div class="ttdeci">uint8_t private_key[BTC_ECKEY_PKEY_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00047">bip32.h:47</a></div></div>
<div class="ttc" id="btc_8h_html_a0d2210035575b1da54185296094ae5a1"><div class="ttname"><a href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a></div><div class="ttdeci">#define BTC_ECKEY_PKEY_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="btc_8h_source.html#l00070">btc.h:70</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_a744fa5df77b787fefff535ac62392072"><div class="ttname"><a href="structbtc__hdnode.html#a744fa5df77b787fefff535ac62392072">btc_hdnode::child_num</a></div><div class="ttdeci">uint32_t child_num</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00045">bip32.h:45</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_a5cade55feeebcc6ede6288f0e10beba7"><div class="ttname"><a href="structbtc__hdnode.html#a5cade55feeebcc6ede6288f0e10beba7">btc_hdnode::depth</a></div><div class="ttdeci">uint32_t depth</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00043">bip32.h:43</a></div></div>
<div class="ttc" id="bip32_8c_html_a150435a02e986ee191c4df5a583fe859"><div class="ttname"><a href="bip32_8c.html#a150435a02e986ee191c4df5a583fe859">btc_hdnode_fill_public_key</a></div><div class="ttdeci">void btc_hdnode_fill_public_key(btc_hdnode *node)</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8c_source.html#l00178">bip32.c:178</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_acf47f9deb118f045df68c4db0af0a4a1"><div class="ttname"><a href="structbtc__hdnode.html#acf47f9deb118f045df68c4db0af0a4a1">btc_hdnode::fingerprint</a></div><div class="ttdeci">uint32_t fingerprint</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00044">bip32.h:44</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_aadda46b987819dd702910750372bba6a"><div class="ttname"><a href="structbtc__hdnode.html#aadda46b987819dd702910750372bba6a">btc_hdnode::chain_code</a></div><div class="ttdeci">uint8_t chain_code[BTC_BIP32_CHAINCODE_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00046">bip32.h:46</a></div></div>
<div class="ttc" id="bip32_8h_html_a26028fc7585b9caf944d2e0524c5453e"><div class="ttname"><a href="bip32_8h.html#a26028fc7585b9caf944d2e0524c5453e">BTC_BIP32_CHAINCODE_SIZE</a></div><div class="ttdeci">#define BTC_BIP32_CHAINCODE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00039">bip32.h:39</a></div></div>
<div class="ttc" id="structbtc__hdnode_html"><div class="ttname"><a href="structbtc__hdnode.html">btc_hdnode</a></div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00041">bip32.h:41</a></div></div>
<div class="ttc" id="sha2_8c_html_adebd9da21dc5678cfe9ed3c1607ed40f"><div class="ttname"><a href="sha2_8c.html#adebd9da21dc5678cfe9ed3c1607ed40f">hmac_sha512</a></div><div class="ttdeci">void hmac_sha512(const uint8_t *key, const uint32_t keylen, const uint8_t *msg, const uint32_t msglen, uint8_t *hmac)</div><div class="ttdef"><b>Definition:</b> <a href="sha2_8c_source.html#l00996">sha2.c:996</a></div></div>
<div class="ttc" id="ecc__libsecp256k1_8c_html_a12329b17ed27248df0978565f92dde9d"><div class="ttname"><a href="ecc__libsecp256k1_8c.html#a12329b17ed27248df0978565f92dde9d">ecc_verify_privatekey</a></div><div class="ttdeci">btc_bool ecc_verify_privatekey(const uint8_t *private_key)</div><div class="ttdoc">verifies a given 32byte key </div><div class="ttdef"><b>Definition:</b> <a href="ecc__libsecp256k1_8c_source.html#l00079">ecc_libsecp256k1.c:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a89b235fc5d696cb69448855ad5248c05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="btc_8h.html#a2426de7ad9dd5354f5e22b4c8d77e792">btc_bool</a> btc_hdnode_private_ckd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtc__hdnode.html">btc_hdnode</a> *&#160;</td>
          <td class="paramname"><em>inout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="bip32_8c_source.html#l00124">124</a> of file <a class="el" href="bip32_8c_source.html">bip32.c</a>.</p>

<p>References <a class="el" href="bip32_8h_source.html#l00039">BTC_BIP32_CHAINCODE_SIZE</a>, <a class="el" href="btc_8h_source.html#l00068">BTC_ECKEY_COMPRESSED_LENGTH</a>, <a class="el" href="btc_8h_source.html#l00070">BTC_ECKEY_PKEY_LENGTH</a>, <a class="el" href="bip32_8c_source.html#l00178">btc_hdnode_fill_public_key()</a>, <a class="el" href="bip32_8h_source.html#l00046">btc_hdnode::chain_code</a>, <a class="el" href="bip32_8h_source.html#l00045">btc_hdnode::child_num</a>, <a class="el" href="bip32_8h_source.html#l00043">btc_hdnode::depth</a>, <a class="el" href="ecc__libsecp256k1_8c_source.html#l00054">ecc_private_key_tweak_add()</a>, <a class="el" href="ecc__libsecp256k1_8c_source.html#l00079">ecc_verify_privatekey()</a>, <a class="el" href="bip32_8h_source.html#l00044">btc_hdnode::fingerprint</a>, <a class="el" href="sha2_8c_source.html#l00996">hmac_sha512()</a>, <a class="el" href="bip32_8h_source.html#l00047">btc_hdnode::private_key</a>, <a class="el" href="bip32_8h_source.html#l00048">btc_hdnode::public_key</a>, <a class="el" href="ripemd160_8c_source.html#l00292">ripemd160()</a>, <a class="el" href="sha2_8c_source.html#l00652">sha256_Raw()</a>, and <a class="el" href="bip32_8c_source.html#l00042">write_be()</a>.</p>

<p>Referenced by <a class="el" href="bip32_8c_source.html#l00245">btc_hd_generate_key()</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;{</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    uint8_t data[1 + <a class="code" href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a> + 4];</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    uint8_t I[<a class="code" href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a> + <a class="code" href="bip32_8h.html#a26028fc7585b9caf944d2e0524c5453e">BTC_BIP32_CHAINCODE_SIZE</a>];</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    uint8_t fingerprint[<a class="code" href="bip32_8h.html#a26028fc7585b9caf944d2e0524c5453e">BTC_BIP32_CHAINCODE_SIZE</a>];</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    uint8_t <a class="code" href="structconst__buffer.html#a0f8f88d516b9e6a9088aa7927b780f01">p</a>[<a class="code" href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a>], z[<a class="code" href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a>];</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">if</span> (i &amp; 0x80000000) { <span class="comment">// private derivation</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        data[0] = 0;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        memcpy(data + 1, inout-&gt;<a class="code" href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">private_key</a>, <a class="code" href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">// public derivation</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        memcpy(data, inout-&gt;<a class="code" href="structbtc__hdnode.html#a014267a07b99aead6a875b600ad23e0b">public_key</a>, <a class="code" href="btc_8h.html#ae218f7ef06647872113a6ab90c5234e5">BTC_ECKEY_COMPRESSED_LENGTH</a>);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="bip32_8c.html#a1a8f046c40128aee05d548ca8940127c">write_be</a>(data + <a class="code" href="btc_8h.html#ae218f7ef06647872113a6ab90c5234e5">BTC_ECKEY_COMPRESSED_LENGTH</a>, i);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="sha2_8c.html#ac993ba74a72e3f7e5281007f0fcd0668">sha256_Raw</a>(inout-&gt;<a class="code" href="structbtc__hdnode.html#a014267a07b99aead6a875b600ad23e0b">public_key</a>, <a class="code" href="btc_8h.html#ae218f7ef06647872113a6ab90c5234e5">BTC_ECKEY_COMPRESSED_LENGTH</a>, fingerprint);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="ripemd160_8c.html#a943c95f9d619b696d1b9ac15a8866d6f">ripemd160</a>(fingerprint, 32, fingerprint);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    inout-&gt;<a class="code" href="structbtc__hdnode.html#acf47f9deb118f045df68c4db0af0a4a1">fingerprint</a> = (fingerprint[0] &lt;&lt; 24) + (fingerprint[1] &lt;&lt; 16) +</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                         (fingerprint[2] &lt;&lt; 8) + fingerprint[3];</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    memset(fingerprint, 0, <span class="keyword">sizeof</span>(fingerprint));</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    memcpy(p, inout-&gt;<a class="code" href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">private_key</a>, <a class="code" href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a>);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="sha2_8c.html#adebd9da21dc5678cfe9ed3c1607ed40f">hmac_sha512</a>(inout-&gt;<a class="code" href="structbtc__hdnode.html#aadda46b987819dd702910750372bba6a">chain_code</a>, <a class="code" href="bip32_8h.html#a26028fc7585b9caf944d2e0524c5453e">BTC_BIP32_CHAINCODE_SIZE</a>, data, <span class="keyword">sizeof</span>(data), I);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    memcpy(inout-&gt;<a class="code" href="structbtc__hdnode.html#aadda46b987819dd702910750372bba6a">chain_code</a>, I + <a class="code" href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a>, <a class="code" href="bip32_8h.html#a26028fc7585b9caf944d2e0524c5453e">BTC_BIP32_CHAINCODE_SIZE</a>);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    memcpy(inout-&gt;<a class="code" href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">private_key</a>, I, <a class="code" href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    memcpy(z, inout-&gt;<a class="code" href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">private_key</a>, <a class="code" href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordtype">int</span> failed = 0;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ecc__libsecp256k1_8c.html#a12329b17ed27248df0978565f92dde9d">ecc_verify_privatekey</a>(z)) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        failed = 1;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    memcpy(inout-&gt;<a class="code" href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">private_key</a>, p, <a class="code" href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a>);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ecc__libsecp256k1_8c.html#a52d95e839daa049d4ef09fe18ec87bf5">ecc_private_key_tweak_add</a>(inout-&gt;<a class="code" href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">private_key</a>, z)) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        failed = 1;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span> (!failed) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        inout-&gt;<a class="code" href="structbtc__hdnode.html#a5cade55feeebcc6ede6288f0e10beba7">depth</a>++;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        inout-&gt;<a class="code" href="structbtc__hdnode.html#a744fa5df77b787fefff535ac62392072">child_num</a> = i;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <a class="code" href="bip32_8c.html#a150435a02e986ee191c4df5a583fe859">btc_hdnode_fill_public_key</a>(inout);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    memset(data, 0, <span class="keyword">sizeof</span>(data));</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    memset(I, 0, <span class="keyword">sizeof</span>(I));</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    memset(p, 0, <span class="keyword">sizeof</span>(p));</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    memset(z, 0, <span class="keyword">sizeof</span>(z));</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div>
<div class="ttc" id="structbtc__hdnode_html_a8e2ff2681ed2cd99572d42cc5d3f5bd4"><div class="ttname"><a href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">btc_hdnode::private_key</a></div><div class="ttdeci">uint8_t private_key[BTC_ECKEY_PKEY_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00047">bip32.h:47</a></div></div>
<div class="ttc" id="btc_8h_html_a0d2210035575b1da54185296094ae5a1"><div class="ttname"><a href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a></div><div class="ttdeci">#define BTC_ECKEY_PKEY_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="btc_8h_source.html#l00070">btc.h:70</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_a744fa5df77b787fefff535ac62392072"><div class="ttname"><a href="structbtc__hdnode.html#a744fa5df77b787fefff535ac62392072">btc_hdnode::child_num</a></div><div class="ttdeci">uint32_t child_num</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00045">bip32.h:45</a></div></div>
<div class="ttc" id="btc_8h_html_ae218f7ef06647872113a6ab90c5234e5"><div class="ttname"><a href="btc_8h.html#ae218f7ef06647872113a6ab90c5234e5">BTC_ECKEY_COMPRESSED_LENGTH</a></div><div class="ttdeci">#define BTC_ECKEY_COMPRESSED_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="btc_8h_source.html#l00068">btc.h:68</a></div></div>
<div class="ttc" id="sha2_8c_html_ac993ba74a72e3f7e5281007f0fcd0668"><div class="ttname"><a href="sha2_8c.html#ac993ba74a72e3f7e5281007f0fcd0668">sha256_Raw</a></div><div class="ttdeci">void sha256_Raw(const sha2_byte *data, size_t len, uint8_t digest[SHA256_DIGEST_LENGTH])</div><div class="ttdef"><b>Definition:</b> <a href="sha2_8c_source.html#l00652">sha2.c:652</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_a5cade55feeebcc6ede6288f0e10beba7"><div class="ttname"><a href="structbtc__hdnode.html#a5cade55feeebcc6ede6288f0e10beba7">btc_hdnode::depth</a></div><div class="ttdeci">uint32_t depth</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00043">bip32.h:43</a></div></div>
<div class="ttc" id="bip32_8c_html_a150435a02e986ee191c4df5a583fe859"><div class="ttname"><a href="bip32_8c.html#a150435a02e986ee191c4df5a583fe859">btc_hdnode_fill_public_key</a></div><div class="ttdeci">void btc_hdnode_fill_public_key(btc_hdnode *node)</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8c_source.html#l00178">bip32.c:178</a></div></div>
<div class="ttc" id="structconst__buffer_html_a0f8f88d516b9e6a9088aa7927b780f01"><div class="ttname"><a href="structconst__buffer.html#a0f8f88d516b9e6a9088aa7927b780f01">const_buffer::p</a></div><div class="ttdeci">const void * p</div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00021">buffer.h:21</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_acf47f9deb118f045df68c4db0af0a4a1"><div class="ttname"><a href="structbtc__hdnode.html#acf47f9deb118f045df68c4db0af0a4a1">btc_hdnode::fingerprint</a></div><div class="ttdeci">uint32_t fingerprint</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00044">bip32.h:44</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_aadda46b987819dd702910750372bba6a"><div class="ttname"><a href="structbtc__hdnode.html#aadda46b987819dd702910750372bba6a">btc_hdnode::chain_code</a></div><div class="ttdeci">uint8_t chain_code[BTC_BIP32_CHAINCODE_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00046">bip32.h:46</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_a014267a07b99aead6a875b600ad23e0b"><div class="ttname"><a href="structbtc__hdnode.html#a014267a07b99aead6a875b600ad23e0b">btc_hdnode::public_key</a></div><div class="ttdeci">uint8_t public_key[BTC_ECKEY_COMPRESSED_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00048">bip32.h:48</a></div></div>
<div class="ttc" id="ripemd160_8c_html_a943c95f9d619b696d1b9ac15a8866d6f"><div class="ttname"><a href="ripemd160_8c.html#a943c95f9d619b696d1b9ac15a8866d6f">ripemd160</a></div><div class="ttdeci">void ripemd160(const uint8_t *msg, uint32_t msg_len, uint8_t *hash)</div><div class="ttdef"><b>Definition:</b> <a href="ripemd160_8c_source.html#l00292">ripemd160.c:292</a></div></div>
<div class="ttc" id="bip32_8c_html_a1a8f046c40128aee05d548ca8940127c"><div class="ttname"><a href="bip32_8c.html#a1a8f046c40128aee05d548ca8940127c">write_be</a></div><div class="ttdeci">static void write_be(uint8_t *data, uint32_t x)</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8c_source.html#l00042">bip32.c:42</a></div></div>
<div class="ttc" id="ecc__libsecp256k1_8c_html_a52d95e839daa049d4ef09fe18ec87bf5"><div class="ttname"><a href="ecc__libsecp256k1_8c.html#a52d95e839daa049d4ef09fe18ec87bf5">ecc_private_key_tweak_add</a></div><div class="ttdeci">btc_bool ecc_private_key_tweak_add(uint8_t *private_key, const uint8_t *tweak)</div><div class="ttdoc">ec mul tweak on given private key </div><div class="ttdef"><b>Definition:</b> <a href="ecc__libsecp256k1_8c_source.html#l00054">ecc_libsecp256k1.c:54</a></div></div>
<div class="ttc" id="bip32_8h_html_a26028fc7585b9caf944d2e0524c5453e"><div class="ttname"><a href="bip32_8h.html#a26028fc7585b9caf944d2e0524c5453e">BTC_BIP32_CHAINCODE_SIZE</a></div><div class="ttdeci">#define BTC_BIP32_CHAINCODE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00039">bip32.h:39</a></div></div>
<div class="ttc" id="sha2_8c_html_adebd9da21dc5678cfe9ed3c1607ed40f"><div class="ttname"><a href="sha2_8c.html#adebd9da21dc5678cfe9ed3c1607ed40f">hmac_sha512</a></div><div class="ttdeci">void hmac_sha512(const uint8_t *key, const uint32_t keylen, const uint8_t *msg, const uint32_t msglen, uint8_t *hmac)</div><div class="ttdef"><b>Definition:</b> <a href="sha2_8c_source.html#l00996">sha2.c:996</a></div></div>
<div class="ttc" id="ecc__libsecp256k1_8c_html_a12329b17ed27248df0978565f92dde9d"><div class="ttname"><a href="ecc__libsecp256k1_8c.html#a12329b17ed27248df0978565f92dde9d">ecc_verify_privatekey</a></div><div class="ttdeci">btc_bool ecc_verify_privatekey(const uint8_t *private_key)</div><div class="ttdoc">verifies a given 32byte key </div><div class="ttdef"><b>Definition:</b> <a href="ecc__libsecp256k1_8c_source.html#l00079">ecc_libsecp256k1.c:79</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a47c1559e5c091669a576a13f0dee5abe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="btc_8h.html#a2426de7ad9dd5354f5e22b4c8d77e792">btc_bool</a> btc_hdnode_public_ckd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbtc__hdnode.html">btc_hdnode</a> *&#160;</td>
          <td class="paramname"><em>inout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="bip32_8c_source.html#l00083">83</a> of file <a class="el" href="bip32_8c_source.html">bip32.c</a>.</p>

<p>References <a class="el" href="bip32_8h_source.html#l00039">BTC_BIP32_CHAINCODE_SIZE</a>, <a class="el" href="btc_8h_source.html#l00068">BTC_ECKEY_COMPRESSED_LENGTH</a>, <a class="el" href="bip32_8h_source.html#l00046">btc_hdnode::chain_code</a>, <a class="el" href="bip32_8h_source.html#l00045">btc_hdnode::child_num</a>, <a class="el" href="bip32_8h_source.html#l00043">btc_hdnode::depth</a>, <a class="el" href="ecc__libsecp256k1_8c_source.html#l00060">ecc_public_key_tweak_add()</a>, <a class="el" href="bip32_8h_source.html#l00044">btc_hdnode::fingerprint</a>, <a class="el" href="sha2_8c_source.html#l00996">hmac_sha512()</a>, <a class="el" href="bip32_8h_source.html#l00047">btc_hdnode::private_key</a>, <a class="el" href="bip32_8h_source.html#l00048">btc_hdnode::public_key</a>, <a class="el" href="ripemd160_8c_source.html#l00292">ripemd160()</a>, <a class="el" href="sha2_8c_source.html#l00652">sha256_Raw()</a>, and <a class="el" href="bip32_8c_source.html#l00042">write_be()</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    uint8_t data[1 + 32 + 4];</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    uint8_t I[32 + <a class="code" href="bip32_8h.html#a26028fc7585b9caf944d2e0524c5453e">BTC_BIP32_CHAINCODE_SIZE</a>];</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    uint8_t fingerprint[32];</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span> (i &amp; 0x80000000) { <span class="comment">// private derivation</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    } <span class="keywordflow">else</span> { <span class="comment">// public derivation</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        memcpy(data, inout-&gt;<a class="code" href="structbtc__hdnode.html#a014267a07b99aead6a875b600ad23e0b">public_key</a>, <a class="code" href="btc_8h.html#ae218f7ef06647872113a6ab90c5234e5">BTC_ECKEY_COMPRESSED_LENGTH</a>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="bip32_8c.html#a1a8f046c40128aee05d548ca8940127c">write_be</a>(data + <a class="code" href="btc_8h.html#ae218f7ef06647872113a6ab90c5234e5">BTC_ECKEY_COMPRESSED_LENGTH</a>, i);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="sha2_8c.html#ac993ba74a72e3f7e5281007f0fcd0668">sha256_Raw</a>(inout-&gt;<a class="code" href="structbtc__hdnode.html#a014267a07b99aead6a875b600ad23e0b">public_key</a>, <a class="code" href="btc_8h.html#ae218f7ef06647872113a6ab90c5234e5">BTC_ECKEY_COMPRESSED_LENGTH</a>, fingerprint);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="ripemd160_8c.html#a943c95f9d619b696d1b9ac15a8866d6f">ripemd160</a>(fingerprint, 32, fingerprint);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    inout-&gt;<a class="code" href="structbtc__hdnode.html#acf47f9deb118f045df68c4db0af0a4a1">fingerprint</a> = (fingerprint[0] &lt;&lt; 24) + (fingerprint[1] &lt;&lt; 16) + (fingerprint[2] &lt;&lt; 8) + fingerprint[3];</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    memset(inout-&gt;<a class="code" href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">private_key</a>, 0, 32);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordtype">int</span> failed = 0;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="sha2_8c.html#adebd9da21dc5678cfe9ed3c1607ed40f">hmac_sha512</a>(inout-&gt;<a class="code" href="structbtc__hdnode.html#aadda46b987819dd702910750372bba6a">chain_code</a>, 32, data, <span class="keyword">sizeof</span>(data), I);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    memcpy(inout-&gt;<a class="code" href="structbtc__hdnode.html#aadda46b987819dd702910750372bba6a">chain_code</a>, I + 32, <a class="code" href="bip32_8h.html#a26028fc7585b9caf944d2e0524c5453e">BTC_BIP32_CHAINCODE_SIZE</a>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="ecc__libsecp256k1_8c.html#a5a5b22b7e219f9e3f4caaf96662bed35">ecc_public_key_tweak_add</a>(inout-&gt;<a class="code" href="structbtc__hdnode.html#a014267a07b99aead6a875b600ad23e0b">public_key</a>, I))</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        failed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">if</span> (!failed) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        inout-&gt;<a class="code" href="structbtc__hdnode.html#a5cade55feeebcc6ede6288f0e10beba7">depth</a>++;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        inout-&gt;<a class="code" href="structbtc__hdnode.html#a744fa5df77b787fefff535ac62392072">child_num</a> = i;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// Wipe all stack data.</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    memset(data, 0, <span class="keyword">sizeof</span>(data));</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    memset(I, 0, <span class="keyword">sizeof</span>(I));</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    memset(fingerprint, 0, <span class="keyword">sizeof</span>(fingerprint));</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">return</span> failed ? <span class="keyword">false</span> : <span class="keyword">true</span>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div>
<div class="ttc" id="structbtc__hdnode_html_a8e2ff2681ed2cd99572d42cc5d3f5bd4"><div class="ttname"><a href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">btc_hdnode::private_key</a></div><div class="ttdeci">uint8_t private_key[BTC_ECKEY_PKEY_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00047">bip32.h:47</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_a744fa5df77b787fefff535ac62392072"><div class="ttname"><a href="structbtc__hdnode.html#a744fa5df77b787fefff535ac62392072">btc_hdnode::child_num</a></div><div class="ttdeci">uint32_t child_num</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00045">bip32.h:45</a></div></div>
<div class="ttc" id="btc_8h_html_ae218f7ef06647872113a6ab90c5234e5"><div class="ttname"><a href="btc_8h.html#ae218f7ef06647872113a6ab90c5234e5">BTC_ECKEY_COMPRESSED_LENGTH</a></div><div class="ttdeci">#define BTC_ECKEY_COMPRESSED_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="btc_8h_source.html#l00068">btc.h:68</a></div></div>
<div class="ttc" id="sha2_8c_html_ac993ba74a72e3f7e5281007f0fcd0668"><div class="ttname"><a href="sha2_8c.html#ac993ba74a72e3f7e5281007f0fcd0668">sha256_Raw</a></div><div class="ttdeci">void sha256_Raw(const sha2_byte *data, size_t len, uint8_t digest[SHA256_DIGEST_LENGTH])</div><div class="ttdef"><b>Definition:</b> <a href="sha2_8c_source.html#l00652">sha2.c:652</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_a5cade55feeebcc6ede6288f0e10beba7"><div class="ttname"><a href="structbtc__hdnode.html#a5cade55feeebcc6ede6288f0e10beba7">btc_hdnode::depth</a></div><div class="ttdeci">uint32_t depth</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00043">bip32.h:43</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_acf47f9deb118f045df68c4db0af0a4a1"><div class="ttname"><a href="structbtc__hdnode.html#acf47f9deb118f045df68c4db0af0a4a1">btc_hdnode::fingerprint</a></div><div class="ttdeci">uint32_t fingerprint</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00044">bip32.h:44</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_aadda46b987819dd702910750372bba6a"><div class="ttname"><a href="structbtc__hdnode.html#aadda46b987819dd702910750372bba6a">btc_hdnode::chain_code</a></div><div class="ttdeci">uint8_t chain_code[BTC_BIP32_CHAINCODE_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00046">bip32.h:46</a></div></div>
<div class="ttc" id="ecc__libsecp256k1_8c_html_a5a5b22b7e219f9e3f4caaf96662bed35"><div class="ttname"><a href="ecc__libsecp256k1_8c.html#a5a5b22b7e219f9e3f4caaf96662bed35">ecc_public_key_tweak_add</a></div><div class="ttdeci">btc_bool ecc_public_key_tweak_add(uint8_t *public_key_inout, const uint8_t *tweak)</div><div class="ttdoc">ec mul tweak on given public key </div><div class="ttdef"><b>Definition:</b> <a href="ecc__libsecp256k1_8c_source.html#l00060">ecc_libsecp256k1.c:60</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_a014267a07b99aead6a875b600ad23e0b"><div class="ttname"><a href="structbtc__hdnode.html#a014267a07b99aead6a875b600ad23e0b">btc_hdnode::public_key</a></div><div class="ttdeci">uint8_t public_key[BTC_ECKEY_COMPRESSED_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00048">bip32.h:48</a></div></div>
<div class="ttc" id="ripemd160_8c_html_a943c95f9d619b696d1b9ac15a8866d6f"><div class="ttname"><a href="ripemd160_8c.html#a943c95f9d619b696d1b9ac15a8866d6f">ripemd160</a></div><div class="ttdeci">void ripemd160(const uint8_t *msg, uint32_t msg_len, uint8_t *hash)</div><div class="ttdef"><b>Definition:</b> <a href="ripemd160_8c_source.html#l00292">ripemd160.c:292</a></div></div>
<div class="ttc" id="bip32_8c_html_a1a8f046c40128aee05d548ca8940127c"><div class="ttname"><a href="bip32_8c.html#a1a8f046c40128aee05d548ca8940127c">write_be</a></div><div class="ttdeci">static void write_be(uint8_t *data, uint32_t x)</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8c_source.html#l00042">bip32.c:42</a></div></div>
<div class="ttc" id="bip32_8h_html_a26028fc7585b9caf944d2e0524c5453e"><div class="ttname"><a href="bip32_8h.html#a26028fc7585b9caf944d2e0524c5453e">BTC_BIP32_CHAINCODE_SIZE</a></div><div class="ttdeci">#define BTC_BIP32_CHAINCODE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00039">bip32.h:39</a></div></div>
<div class="ttc" id="sha2_8c_html_adebd9da21dc5678cfe9ed3c1607ed40f"><div class="ttname"><a href="sha2_8c.html#adebd9da21dc5678cfe9ed3c1607ed40f">hmac_sha512</a></div><div class="ttdeci">void hmac_sha512(const uint8_t *key, const uint32_t keylen, const uint8_t *msg, const uint32_t msglen, uint8_t *hmac)</div><div class="ttdef"><b>Definition:</b> <a href="sha2_8c_source.html#l00996">sha2.c:996</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a92185734b9aeda9264bf06500e3868dd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void btc_hdnode_serialize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtc__hdnode.html">btc_hdnode</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>use_public</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>strsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="bip32_8c_source.html#l00185">185</a> of file <a class="el" href="bip32_8c_source.html">bip32.c</a>.</p>

<p>References <a class="el" href="base58_8c_source.html#l00198">btc_base58_encode_check()</a>, <a class="el" href="bip32_8h_source.html#l00039">BTC_BIP32_CHAINCODE_SIZE</a>, <a class="el" href="btc_8h_source.html#l00068">BTC_ECKEY_COMPRESSED_LENGTH</a>, <a class="el" href="btc_8h_source.html#l00070">BTC_ECKEY_PKEY_LENGTH</a>, <a class="el" href="bip32_8h_source.html#l00046">btc_hdnode::chain_code</a>, <a class="el" href="bip32_8h_source.html#l00045">btc_hdnode::child_num</a>, <a class="el" href="bip32_8h_source.html#l00043">btc_hdnode::depth</a>, <a class="el" href="bip32_8h_source.html#l00044">btc_hdnode::fingerprint</a>, <a class="el" href="bip32_8h_source.html#l00047">btc_hdnode::private_key</a>, <a class="el" href="bip32_8h_source.html#l00048">btc_hdnode::public_key</a>, and <a class="el" href="bip32_8c_source.html#l00042">write_be()</a>.</p>

<p>Referenced by <a class="el" href="bip32_8c_source.html#l00209">btc_hdnode_serialize_private()</a>, and <a class="el" href="bip32_8c_source.html#l00203">btc_hdnode_serialize_public()</a>.</p>
<div class="fragment"><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;{</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    uint8_t node_data[78];</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <a class="code" href="bip32_8c.html#a1a8f046c40128aee05d548ca8940127c">write_be</a>(node_data, version);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    node_data[4] = node-&gt;<a class="code" href="structbtc__hdnode.html#a5cade55feeebcc6ede6288f0e10beba7">depth</a>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="bip32_8c.html#a1a8f046c40128aee05d548ca8940127c">write_be</a>(node_data + 5, node-&gt;<a class="code" href="structbtc__hdnode.html#acf47f9deb118f045df68c4db0af0a4a1">fingerprint</a>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="bip32_8c.html#a1a8f046c40128aee05d548ca8940127c">write_be</a>(node_data + 9, node-&gt;<a class="code" href="structbtc__hdnode.html#a744fa5df77b787fefff535ac62392072">child_num</a>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    memcpy(node_data + 13, node-&gt;<a class="code" href="structbtc__hdnode.html#aadda46b987819dd702910750372bba6a">chain_code</a>, <a class="code" href="bip32_8h.html#a26028fc7585b9caf944d2e0524c5453e">BTC_BIP32_CHAINCODE_SIZE</a>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">if</span> (use_public) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        memcpy(node_data + 45, node-&gt;<a class="code" href="structbtc__hdnode.html#a014267a07b99aead6a875b600ad23e0b">public_key</a>, <a class="code" href="btc_8h.html#ae218f7ef06647872113a6ab90c5234e5">BTC_ECKEY_COMPRESSED_LENGTH</a>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        node_data[45] = 0;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        memcpy(node_data + 46, node-&gt;<a class="code" href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">private_key</a>, <a class="code" href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="base58_8c.html#a9f65c137a056c33c389f5f1abe7f7782">btc_base58_encode_check</a>(node_data, 78, str, strsize);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="ttc" id="structbtc__hdnode_html_a8e2ff2681ed2cd99572d42cc5d3f5bd4"><div class="ttname"><a href="structbtc__hdnode.html#a8e2ff2681ed2cd99572d42cc5d3f5bd4">btc_hdnode::private_key</a></div><div class="ttdeci">uint8_t private_key[BTC_ECKEY_PKEY_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00047">bip32.h:47</a></div></div>
<div class="ttc" id="btc_8h_html_a0d2210035575b1da54185296094ae5a1"><div class="ttname"><a href="btc_8h.html#a0d2210035575b1da54185296094ae5a1">BTC_ECKEY_PKEY_LENGTH</a></div><div class="ttdeci">#define BTC_ECKEY_PKEY_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="btc_8h_source.html#l00070">btc.h:70</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_a744fa5df77b787fefff535ac62392072"><div class="ttname"><a href="structbtc__hdnode.html#a744fa5df77b787fefff535ac62392072">btc_hdnode::child_num</a></div><div class="ttdeci">uint32_t child_num</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00045">bip32.h:45</a></div></div>
<div class="ttc" id="btc_8h_html_ae218f7ef06647872113a6ab90c5234e5"><div class="ttname"><a href="btc_8h.html#ae218f7ef06647872113a6ab90c5234e5">BTC_ECKEY_COMPRESSED_LENGTH</a></div><div class="ttdeci">#define BTC_ECKEY_COMPRESSED_LENGTH</div><div class="ttdef"><b>Definition:</b> <a href="btc_8h_source.html#l00068">btc.h:68</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_a5cade55feeebcc6ede6288f0e10beba7"><div class="ttname"><a href="structbtc__hdnode.html#a5cade55feeebcc6ede6288f0e10beba7">btc_hdnode::depth</a></div><div class="ttdeci">uint32_t depth</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00043">bip32.h:43</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_acf47f9deb118f045df68c4db0af0a4a1"><div class="ttname"><a href="structbtc__hdnode.html#acf47f9deb118f045df68c4db0af0a4a1">btc_hdnode::fingerprint</a></div><div class="ttdeci">uint32_t fingerprint</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00044">bip32.h:44</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_aadda46b987819dd702910750372bba6a"><div class="ttname"><a href="structbtc__hdnode.html#aadda46b987819dd702910750372bba6a">btc_hdnode::chain_code</a></div><div class="ttdeci">uint8_t chain_code[BTC_BIP32_CHAINCODE_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00046">bip32.h:46</a></div></div>
<div class="ttc" id="structbtc__hdnode_html_a014267a07b99aead6a875b600ad23e0b"><div class="ttname"><a href="structbtc__hdnode.html#a014267a07b99aead6a875b600ad23e0b">btc_hdnode::public_key</a></div><div class="ttdeci">uint8_t public_key[BTC_ECKEY_COMPRESSED_LENGTH]</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00048">bip32.h:48</a></div></div>
<div class="ttc" id="bip32_8c_html_a1a8f046c40128aee05d548ca8940127c"><div class="ttname"><a href="bip32_8c.html#a1a8f046c40128aee05d548ca8940127c">write_be</a></div><div class="ttdeci">static void write_be(uint8_t *data, uint32_t x)</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8c_source.html#l00042">bip32.c:42</a></div></div>
<div class="ttc" id="base58_8c_html_a9f65c137a056c33c389f5f1abe7f7782"><div class="ttname"><a href="base58_8c.html#a9f65c137a056c33c389f5f1abe7f7782">btc_base58_encode_check</a></div><div class="ttdeci">int btc_base58_encode_check(const uint8_t *data, int datalen, char *str, int strsize)</div><div class="ttdef"><b>Definition:</b> <a href="base58_8c_source.html#l00198">base58.c:198</a></div></div>
<div class="ttc" id="bip32_8h_html_a26028fc7585b9caf944d2e0524c5453e"><div class="ttname"><a href="bip32_8h.html#a26028fc7585b9caf944d2e0524c5453e">BTC_BIP32_CHAINCODE_SIZE</a></div><div class="ttdeci">#define BTC_BIP32_CHAINCODE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8h_source.html#l00039">bip32.h:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad7cfb93b3d10be6d26427abb8602716b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btc_hdnode_serialize_private </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtc__hdnode.html">btc_hdnode</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structbtc__chain.html">btc_chain</a> *&#160;</td>
          <td class="paramname"><em>chain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>strsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="bip32_8c_source.html#l00209">209</a> of file <a class="el" href="bip32_8c_source.html">bip32.c</a>.</p>

<p>References <a class="el" href="chain_8h_source.html#l00045">btc_chain::b58prefix_bip32_privkey</a>, and <a class="el" href="bip32_8c_source.html#l00185">btc_hdnode_serialize()</a>.</p>
<div class="fragment"><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;{</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="bip32_8c.html#a92185734b9aeda9264bf06500e3868dd">btc_hdnode_serialize</a>(node, chain-&gt;<a class="code" href="structbtc__chain.html#a5dafe0804980e12a358fca3ca0c72c1f">b58prefix_bip32_privkey</a>, 0, str, strsize);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div>
<div class="ttc" id="structbtc__chain_html_a5dafe0804980e12a358fca3ca0c72c1f"><div class="ttname"><a href="structbtc__chain.html#a5dafe0804980e12a358fca3ca0c72c1f">btc_chain::b58prefix_bip32_privkey</a></div><div class="ttdeci">uint32_t b58prefix_bip32_privkey</div><div class="ttdoc">private key </div><div class="ttdef"><b>Definition:</b> <a href="chain_8h_source.html#l00045">chain.h:45</a></div></div>
<div class="ttc" id="bip32_8c_html_a92185734b9aeda9264bf06500e3868dd"><div class="ttname"><a href="bip32_8c.html#a92185734b9aeda9264bf06500e3868dd">btc_hdnode_serialize</a></div><div class="ttdeci">static void btc_hdnode_serialize(const btc_hdnode *node, uint32_t version, char use_public, char *str, int strsize)</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8c_source.html#l00185">bip32.c:185</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aff70cfe9895d4dbf098f15fe0c07caf6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void btc_hdnode_serialize_public </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structbtc__hdnode.html">btc_hdnode</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structbtc__chain.html">btc_chain</a> *&#160;</td>
          <td class="paramname"><em>chain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>strsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="bip32_8c_source.html#l00203">203</a> of file <a class="el" href="bip32_8c_source.html">bip32.c</a>.</p>

<p>References <a class="el" href="chain_8h_source.html#l00046">btc_chain::b58prefix_bip32_pubkey</a>, and <a class="el" href="bip32_8c_source.html#l00185">btc_hdnode_serialize()</a>.</p>
<div class="fragment"><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;{</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="bip32_8c.html#a92185734b9aeda9264bf06500e3868dd">btc_hdnode_serialize</a>(node, chain-&gt;<a class="code" href="structbtc__chain.html#a5c6ba4970322222cba6149733c68d277">b58prefix_bip32_pubkey</a>, 1, str, strsize);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div>
<div class="ttc" id="structbtc__chain_html_a5c6ba4970322222cba6149733c68d277"><div class="ttname"><a href="structbtc__chain.html#a5c6ba4970322222cba6149733c68d277">btc_chain::b58prefix_bip32_pubkey</a></div><div class="ttdeci">uint32_t b58prefix_bip32_pubkey</div><div class="ttdef"><b>Definition:</b> <a href="chain_8h_source.html#l00046">chain.h:46</a></div></div>
<div class="ttc" id="bip32_8c_html_a92185734b9aeda9264bf06500e3868dd"><div class="ttname"><a href="bip32_8c.html#a92185734b9aeda9264bf06500e3868dd">btc_hdnode_serialize</a></div><div class="ttdeci">static void btc_hdnode_serialize(const btc_hdnode *node, uint32_t version, char use_public, char *str, int strsize)</div><div class="ttdef"><b>Definition:</b> <a href="bip32_8c_source.html#l00185">bip32.c:185</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af306a6d77acfe9d09ea2ba56556453a8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t read_be </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="bip32_8c_source.html#l00052">52</a> of file <a class="el" href="bip32_8c_source.html">bip32.c</a>.</p>

<p>Referenced by <a class="el" href="bip32_8c_source.html#l00216">btc_hdnode_deserialize()</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">return</span> (((uint32_t)data[0]) &lt;&lt; 24) |</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;           (((uint32_t)data[1]) &lt;&lt; 16) |</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;           (((uint32_t)data[2]) &lt;&lt; 8) |</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;           (((uint32_t)data[3]));</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1a8f046c40128aee05d548ca8940127c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void write_be </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Copyright (c) 2013-2014 Tomas Dzetkulic Copyright (c) 2013-2014 Pavol Rusnak Copyright (c) 2015 Douglas J. Bakkumk</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. </p>

<p>Definition at line <a class="el" href="bip32_8c_source.html#l00042">42</a> of file <a class="el" href="bip32_8c_source.html">bip32.c</a>.</p>

<p>Referenced by <a class="el" href="bip32_8c_source.html#l00124">btc_hdnode_private_ckd()</a>, <a class="el" href="bip32_8c_source.html#l00083">btc_hdnode_public_ckd()</a>, and <a class="el" href="bip32_8c_source.html#l00185">btc_hdnode_serialize()</a>.</p>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;{</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    data[0] = x &gt;&gt; 24;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    data[1] = x &gt;&gt; 16;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    data[2] = x &gt;&gt; 8;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    data[3] = x;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 27 2015 18:34:53 for libbtc by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
